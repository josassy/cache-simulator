{"version":3,"sources":["Header.jsx","Memory.jsx","Cache.jsx","App.jsx","index.jsx"],"names":["useStyles","makeStyles","theme","header","position","top","backgroundColor","palette","background","default","zIndex","padding","spacing","link","color","text","primary","Header","classes","className","Typography","variant","Link","href","container","width","margin","flexGrow","Memory","TableContainer","component","Paper","Table","table","size","TableHead","TableRow","TableCell","align","TableBody","memory","map","item","index","key","toString","toUpperCase","height","Cache","setNum","data","line","tag","iteration","app","flexContainer","display","alignItems","flexFlow","centerAlign","formControl","minWidth","headerLinkContainer","marginTop","main","headerLink","fontSize","App","initialCache","useState","cacheData","setCacheData","setIteration","welcome","statusText","setStatusText","searchBase","setSearchBase","search","setSearch","leftPane","onSubmit","e","preventDefault","address","parseInt","memoryData","length","Math","floor","cache","FormControl","InputLabel","Select","value","onChange","target","MenuItem","TextField","label","re","10","16","2","test","Button","type","onClick","darkTheme","createMuiTheme","typography","fontFamily","h1","h2","ReactDOM","render","StrictMode","ThemeProvider","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.12282184.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Typography, makeStyles, Link } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    header: {\r\n        position: \"sticky\",\r\n        top: 0,\r\n        backgroundColor: theme.palette.background.default,\r\n        zIndex: 10,\r\n        padding: theme.spacing(1),\r\n    },\r\n    link: {\r\n        color: theme.palette.text.primary,\r\n    }\r\n}));\r\n\r\n\r\nconst Header = () => {\r\n    const classes = useStyles();\r\n    return (\r\n        <header className={classes.header}>\r\n            <Typography variant=\"h1\">React Cache Simulator</Typography>\r\n            <Typography variant=\"caption\">(c) 2020 Josiah R Lansford, </Typography>\r\n            <Link variant=\"caption\" className={classes.link} href=\"https://josiahlansford.com\">josiahlansford.com</Link>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport { TableContainer, Table, TableHead, TableBody, TableRow, TableCell, Paper, makeStyles, Typography } from '@material-ui/core';\r\nimport memory from \"./memory_data\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    width: \"auto\",\r\n    margin: theme.spacing(1),\r\n    // float: \"right\",\r\n    // maxWidth: \"50%\",\r\n    flexGrow: 1,\r\n  }\r\n}));\r\n\r\nconst Memory = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <TableContainer className={classes.container} component={Paper}>\r\n      <Typography variant=\"h2\">Main Memory</Typography>\r\n        <Table className={classes.table} size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"right\">Address</TableCell>\r\n              <TableCell align=\"right\">Binary</TableCell>\r\n              <TableCell align=\"right\">Hex</TableCell>\r\n              <TableCell align=\"right\">Data</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {memory.map((item, index) => (\r\n              <TableRow key={index}>\r\n                <TableCell align=\"right\">{index}</TableCell>\r\n                <TableCell align=\"right\">{(index).toString(2)}</TableCell>\r\n                <TableCell align=\"right\">{(index).toString(16).toUpperCase()}</TableCell>\r\n                <TableCell align=\"right\">{item}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n  )\r\n}\r\n\r\nexport default Memory;","import React from \"react\";\r\nimport { TableContainer, Table, TableHead, TableBody, TableRow, TableCell, Paper, makeStyles, Typography } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    width: \"auto\",\r\n    height: \"auto\",\r\n    margin: theme.spacing(1),\r\n    flexGrow: 1,\r\n  }\r\n}));\r\n\r\nconst Cache = ({ setNum, data = [] }) => {\r\n  // console.log(data);\r\n  const classes = useStyles();\r\n  return (\r\n    <TableContainer className={classes.container} component={Paper}>\r\n      <Typography variant=\"h2\">Cache Set {setNum}</Typography>\r\n      <Table size=\"small\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell align=\"right\">Set</TableCell>\r\n            <TableCell align=\"right\">Tag</TableCell>\r\n            <TableCell align=\"right\">Data</TableCell>\r\n            <TableCell align=\"right\">#</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {data.map((line, index) => (\r\n            <TableRow key={index}>\r\n              <TableCell align=\"right\">{index}</TableCell>\r\n              <TableCell align=\"right\">{line.tag && line.tag.toString(16).toUpperCase()}</TableCell>\r\n              <TableCell align=\"right\">{line.data && line.data}</TableCell>\r\n              <TableCell align=\"right\">{line.iteration && line.iteration}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  )\r\n}\r\n\r\nexport default Cache;","import React, { useState } from 'react';\nimport Header from \"./Header\";\nimport Memory from \"./Memory\";\nimport Cache from \"./Cache\";\nimport memoryData from \"./memory_data\";\nimport { makeStyles, Typography, TextField, MenuItem, Button, Select, FormControl, InputLabel, Link } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  app: {\n    backgroundColor: theme.background,\n  },\n  flexContainer: {\n    display: \"flex\",\n    alignItems: \"flex-start\",\n    flexFlow: \"row wrap\",\n  },\n  centerAlign: {\n    display: \"flex\",\n    flexFlow: \"row wrap\",\n    alignItems: \"stretch\"\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  headerLinkContainer: {\n    padding: theme.spacing(1),\n    marginTop: theme.spacing(2),\n    backgroundColor: theme.palette.primary.main,\n    display: \"inline-block\",\n  },\n  headerLink: {\n    fontSize: \"1rem\",\n    color: theme.palette.text.primary,\n  },\n}));\n\n\nconst App = () => {\n  const classes = useStyles();\n\n  const initialCache = [\n    [\n      { tag: null, data: null },\n      { tag: null, data: null },\n      { tag: null, data: null },\n      { tag: null, data: null },\n    ],\n    [\n      { tag: null, data: null },\n      { tag: null, data: null },\n      { tag: null, data: null },\n      { tag: null, data: null },\n    ]\n  ]\n  const resetCache = () => {\n    setCacheData(initialCache);\n    setStatusText(welcome);\n    setIteration(0);\n    setSearch(\"\");\n  }\n  const [cacheData, setCacheData] = useState(initialCache);\n  const [iteration, setIteration] = useState(1);\n\n  const welcome = \"Please enter an address to retrieve from memory:\"\n  const [statusText, setStatusText] = useState(welcome);\n\n  const [searchBase, setSearchBase] = useState(10);\n  const updateSearchBase = e => {\n    if (search !== \"\") {\n      setSearch(parseInt(search, searchBase).toString(e.target.value).toUpperCase());\n    }\n    setSearchBase(e.target.value);\n  }\n\n  const [search, setSearch] = useState(\"\");\n  const updateSearch = e => {\n    const re = {\n      10: /^[0-9\\b]+$/,\n      16: /^[0-9a-fA-F]+$/,\n      2: /^[01]+$/\n    }[searchBase];\n\n    // if value is not blank, then test the regex\n    if (e.target.value === '' || re.test(e.target.value)) {\n      setSearch(e.target.value);\n    }\n  }\n\n  const searchMemory = e => {\n    e.preventDefault();\n    if (search === '') {\n      return;\n    }\n    const address = parseInt(search, searchBase);\n    if (address >= memoryData.length) {\n      setStatusText(\"Invalid Address. Try Again.\");\n    }\n    else {\n      const data = memoryData[address];\n      const tag = Math.floor(address / 4);\n      const index = address % 4;\n      let cache = cacheData;\n      let setNum = -1;\n      if (cacheData[0][index].tag === tag) {\n        setNum = 0;\n      }\n      else if (cacheData[1][index].tag === tag) {\n        setNum = 1;\n      }\n      if (setNum >= 0) {\n        // display hit\n        setStatusText(`Cache Hit (Set 1): ${data}`);\n  \n        // update cache iteration\n        cache[setNum][index].iteration = iteration;\n        setCacheData(cache);\n        setIteration(iteration + 1);\n      }\n      // data miss\n      else {\n        if ((cacheData[1][index].iteration == null && cacheData[0][index].iteration != null) || cacheData[0][index].iteration > cacheData[1][index].iteration) {\n          setNum = 1;\n        }\n        else {\n          setNum = 0\n        }\n        cache[setNum][index] = { data: data, tag: tag, iteration: iteration };\n        setCacheData(cache);\n        setStatusText(`Cache Miss: ${data}. Storing in Set ${setNum}`);\n        setIteration(iteration + 1);\n      }\n    }\n  }\n\n  return (\n    <div className={classes.app}>\n      <div className={classes.headerLinkContainer}>\n        <Link className={classes.headerLink} href=\"https://josiahlansford.com/projects\">&laquo; Back to Projects</Link>\n      </div>\n      <Header />\n      <div className={classes.flexContainer}>\n        <div className={classes.leftPane}>\n          <Typography className={classes.formControl} variant=\"body1\">{statusText}</Typography>\n          <form className={classes.centerAlign} onSubmit={searchMemory}>\n            <FormControl variant=\"filled\" className={classes.formControl}>\n              <InputLabel>Radix</InputLabel>\n              <Select\n                value={searchBase}\n                onChange={updateSearchBase}\n              >\n                <MenuItem value={10}>Decimal</MenuItem>\n                <MenuItem value={16}>Hex</MenuItem>\n                <MenuItem value={2}>Binary</MenuItem>\n              </Select>\n            </FormControl>\n            <TextField\n              className={classes.formControl}\n              label=\"Address\"\n              variant=\"filled\"\n              value={search}\n              onChange={updateSearch}\n            />\n            <Button\n              type=\"submit\"\n              className={classes.formControl}\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              Retrieve\n            </Button>\n            <Button\n              className={classes.formControl}\n              variant=\"contained\"\n              color=\"secondary\"\n              onClick={resetCache}\n            >\n              Reset\n            </Button>\n          </form>\n          <div className={classes.flexContainer}>\n            <Cache setNum={0} data={cacheData[0]} />\n            <Cache setNum={1} data={cacheData[1]} />\n          </div>\n        </div>\n        <Memory />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { createMuiTheme, ThemeProvider, CssBaseline } from '@material-ui/core';\n\nconst darkTheme = createMuiTheme({\n  palette: {\n    type: 'dark',\n    \n  },\n  typography: {\n    fontFamily: [\n      'Open Sans, sans-serif'\n    ],\n    h1: {\n      fontSize: \"3rem\",\n    },\n    h2: {\n      fontSize: \"2rem\",\n    },\n  }\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={darkTheme}>\n      <CssBaseline />\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}