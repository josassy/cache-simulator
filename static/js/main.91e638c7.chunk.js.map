{"version":3,"sources":["Header.jsx","Memory.jsx","Cache.jsx","App.jsx","index.jsx"],"names":["useStyles","makeStyles","theme","header","position","top","backgroundColor","palette","background","default","zIndex","link","color","text","primary","Header","classes","className","Typography","variant","Link","href","container","width","margin","spacing","flexGrow","Memory","TableContainer","component","Paper","Table","table","size","TableHead","TableRow","TableCell","align","TableBody","memory","map","item","index","key","toString","toUpperCase","height","Cache","setNum","data","line","tag","iteration","app","flexContainer","display","alignItems","flexFlow","centerAlign","formControl","minWidth","App","initialCache","useState","cacheData","setCacheData","setIteration","welcome","statusText","setStatusText","searchBase","setSearchBase","search","setSearch","leftPane","onSubmit","e","preventDefault","address","parseInt","memoryData","length","Math","floor","cache","FormControl","InputLabel","Select","value","onChange","target","MenuItem","TextField","label","re","10","16","2","test","Button","type","onClick","darkTheme","createMuiTheme","typography","fontFamily","h1","fontSize","h2","ReactDOM","render","StrictMode","ThemeProvider","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.91e638c7.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Typography, makeStyles, Link } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    header: {\r\n        position: \"sticky\",\r\n        top: 0,\r\n        backgroundColor: theme.palette.background.default,\r\n        zIndex: 10,\r\n    },\r\n    link: {\r\n        color: theme.palette.text.primary,\r\n    }\r\n}));\r\n\r\nconst Header = () => {\r\n    const classes = useStyles();\r\n    return (\r\n        <header className={classes.header}>\r\n            <Typography variant=\"h1\">React Cache Simulator</Typography>\r\n            <Typography variant=\"caption\">(c) 2020 Josiah R Lansford, </Typography>\r\n            <Link variant=\"caption\" className={classes.link} href=\"https://josiahlansford.com\">josiahlansford.com</Link>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport { TableContainer, Table, TableHead, TableBody, TableRow, TableCell, Paper, makeStyles, Typography } from '@material-ui/core';\r\nimport memory from \"./memory_data\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    width: \"auto\",\r\n    margin: theme.spacing(1),\r\n    // float: \"right\",\r\n    // maxWidth: \"50%\",\r\n    flexGrow: 1,\r\n  }\r\n}));\r\n\r\nconst Memory = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <TableContainer className={classes.container} component={Paper}>\r\n      <Typography variant=\"h2\">Main Memory</Typography>\r\n        <Table className={classes.table} size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"right\">Address</TableCell>\r\n              <TableCell align=\"right\">Binary</TableCell>\r\n              <TableCell align=\"right\">Hex</TableCell>\r\n              <TableCell align=\"right\">Data</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {memory.map((item, index) => (\r\n              <TableRow key={index}>\r\n                <TableCell align=\"right\">{index}</TableCell>\r\n                <TableCell align=\"right\">{(index).toString(2)}</TableCell>\r\n                <TableCell align=\"right\">{(index).toString(16).toUpperCase()}</TableCell>\r\n                <TableCell align=\"right\">{item}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n  )\r\n}\r\n\r\nexport default Memory;","import React from \"react\";\r\nimport { TableContainer, Table, TableHead, TableBody, TableRow, TableCell, Paper, makeStyles, Typography } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    width: \"auto\",\r\n    height: \"auto\",\r\n    margin: theme.spacing(1),\r\n    flexGrow: 1,\r\n  }\r\n}));\r\n\r\nconst Cache = ({ setNum, data = [] }) => {\r\n  // console.log(data);\r\n  const classes = useStyles();\r\n  return (\r\n    <TableContainer className={classes.container} component={Paper}>\r\n      <Typography variant=\"h2\">Cache Set {setNum}</Typography>\r\n      <Table size=\"small\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell align=\"right\">Set</TableCell>\r\n            <TableCell align=\"right\">Tag</TableCell>\r\n            <TableCell align=\"right\">Data</TableCell>\r\n            <TableCell align=\"right\">#</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {data.map((line, index) => (\r\n            <TableRow key={index}>\r\n              <TableCell align=\"right\">{index}</TableCell>\r\n              <TableCell align=\"right\">{line.tag && line.tag.toString(16).toUpperCase()}</TableCell>\r\n              <TableCell align=\"right\">{line.data && line.data}</TableCell>\r\n              <TableCell align=\"right\">{line.iteration && line.iteration}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  )\r\n}\r\n\r\nexport default Cache;","import React, { useState } from 'react';\nimport Header from \"./Header\";\nimport Memory from \"./Memory\";\nimport Cache from \"./Cache\";\nimport memoryData from \"./memory_data\";\nimport { makeStyles, Typography, TextField, MenuItem, Button, Select, FormControl, InputLabel } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  app: {\n    backgroundColor: theme.background,\n  },\n  flexContainer: {\n    display: \"flex\",\n    alignItems: \"flex-start\",\n    flexFlow: \"row wrap\",\n  },\n  centerAlign: {\n    display: \"flex\",\n    flexFlow: \"row wrap\",\n    alignItems: \"stretch\"\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n}));\n\n\nconst App = () => {\n  const classes = useStyles();\n\n  const initialCache = [\n    [\n      { tag: null, data: null },\n      { tag: null, data: null },\n      { tag: null, data: null },\n      { tag: null, data: null },\n    ],\n    [\n      { tag: null, data: null },\n      { tag: null, data: null },\n      { tag: null, data: null },\n      { tag: null, data: null },\n    ]\n  ]\n  const resetCache = () => {\n    setCacheData(initialCache);\n    setStatusText(welcome);\n    setIteration(0);\n    setSearch(\"\");\n  }\n  const [cacheData, setCacheData] = useState(initialCache);\n  const [iteration, setIteration] = useState(1);\n\n  const welcome = \"Please enter an address to retrieve from memory:\"\n  const [statusText, setStatusText] = useState(welcome);\n\n  const [searchBase, setSearchBase] = useState(10);\n  const updateSearchBase = e => {\n    if (search !== \"\") {\n      setSearch(parseInt(search, searchBase).toString(e.target.value).toUpperCase());\n    }\n    setSearchBase(e.target.value);\n  }\n\n  const [search, setSearch] = useState(\"\");\n  const updateSearch = e => {\n    const re = {\n      10: /^[0-9\\b]+$/,\n      16: /^[0-9a-fA-F]+$/,\n      2: /^[01]+$/\n    }[searchBase];\n\n    // if value is not blank, then test the regex\n    if (e.target.value === '' || re.test(e.target.value)) {\n      setSearch(e.target.value);\n    }\n  }\n\n  const searchMemory = e => {\n    e.preventDefault();\n    if (search === '') {\n      return;\n    }\n    const address = parseInt(search, searchBase);\n    if (address >= memoryData.length) {\n      setStatusText(\"Invalid Address. Try Again.\");\n    }\n    else {\n      const data = memoryData[address];\n      const tag = Math.floor(address / 4);\n      const index = address % 4;\n      let cache = cacheData;\n      let setNum = -1;\n      if (cacheData[0][index].tag === tag) {\n        setNum = 0;\n      }\n      else if (cacheData[1][index].tag === tag) {\n        setNum = 1;\n      }\n      if (setNum >= 0) {\n        // display hit\n        setStatusText(`Cache Hit (Set 1): ${data}`);\n  \n        // update cache iteration\n        cache[setNum][index].iteration = iteration;\n        setCacheData(cache);\n        setIteration(iteration + 1);\n      }\n      // data miss\n      else {\n        if ((cacheData[1][index].iteration == null && cacheData[0][index].iteration != null) || cacheData[0][index].iteration > cacheData[1][index].iteration) {\n          setNum = 1;\n        }\n        else {\n          setNum = 0\n        }\n        cache[setNum][index] = { data: data, tag: tag, iteration: iteration };\n        setCacheData(cache);\n        setStatusText(`Cache Miss: ${data}. Storing in Set ${setNum}`);\n        setIteration(iteration + 1);\n      }\n    }\n  }\n\n  return (\n    <div className={classes.app}>\n      <Header />\n      <div className={classes.flexContainer}>\n        <div className={classes.leftPane}>\n          <Typography className={classes.formControl} variant=\"body1\">{statusText}</Typography>\n          <form className={classes.centerAlign} onSubmit={searchMemory}>\n            <FormControl variant=\"filled\" className={classes.formControl}>\n              <InputLabel>Radix</InputLabel>\n              <Select\n                value={searchBase}\n                onChange={updateSearchBase}\n              >\n                <MenuItem value={10}>Decimal</MenuItem>\n                <MenuItem value={16}>Hex</MenuItem>\n                <MenuItem value={2}>Binary</MenuItem>\n              </Select>\n            </FormControl>\n            <TextField\n              className={classes.formControl}\n              label=\"Address\"\n              variant=\"filled\"\n              value={search}\n              onChange={updateSearch}\n            />\n            <Button\n              type=\"submit\"\n              className={classes.formControl}\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              Retrieve\n            </Button>\n            <Button\n              className={classes.formControl}\n              variant=\"contained\"\n              color=\"secondary\"\n              onClick={resetCache}\n            >\n              Reset\n            </Button>\n          </form>\n          <div className={classes.flexContainer}>\n            <Cache setNum={0} data={cacheData[0]} />\n            <Cache setNum={1} data={cacheData[1]} />\n          </div>\n        </div>\n        <Memory />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { createMuiTheme, ThemeProvider, CssBaseline } from '@material-ui/core';\n\nconst darkTheme = createMuiTheme({\n  palette: {\n    type: 'dark',\n  },\n  typography: {\n    fontFamily: [\n      'Open Sans, sans-serif'\n    ],\n    h1: {\n      fontSize: \"3rem\",\n    },\n    h2: {\n      fontSize: \"2rem\",\n    },\n  }\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={darkTheme}>\n      <CssBaseline />\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}